<script>
function get_colour(id_prefix, callback) {
    const parse_str = str => parseInt(str, 16) / 255;
    
    let hex = document.getElementById(id_prefix + "colour").value.toLowerCase();
    let r = parse_str(hex.substr(1, 2));
    let g = parse_str(hex.substr(3, 2));
    let b = parse_str(hex.substr(5, 2));

    let a = Math.min(
        Math.max(
            parseInt(document.getElementById(id_prefix + "alpha").value),
            0
        ),
        100
    ) / 100;

    let colour = [r, g, b, a].map(v => isNaN(v) ? 0 : v);
    callback(colour);
}
</script>
<div class="accordion" id="canvas_menu">
  {{ scene/menu/tools/tools_menu.html }}
  {{ scene/menu/sprite/sprite_menu.html }}
  {{ scene/menu/layers/layers_list.html }}
  {{ scene/menu/scene/scene_menu.html }}
</div>
<style>
#canvas_menu {
    bottom: {{ constant(HOVER_ELEM_INSET) }};
    height: auto;
    position: absolute;
    right: {{ constant(HOVER_ELEM_INSET) }};
    width: 400px;
}
</style>
