{{ javascript(scene/media/media.js) }}
<div
  class="offcanvas offcanvas-start"
  tabindex="-2"
  id="media_offcanvas"
  aria-labelledby="media_offcanvas_label"
  style="width: 500px"
>
  <div class="offcanvas-header">
      <h2 class="offcanvas-title" id="media_offcanvas_label">Media</h4>
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close">
      </button>
  </div>
  <div class="offcanvas-body">
    {{ nav/start() }}
      {{ nav/item(tab=view_media, label=Library, selected=true) }}
      {{ nav/item(tab=upload_media, label=Upload) }}
    {{ nav/end() }}
    <div class="tab-content">
      {{ tab/start(tab=view_media, selected=true) }}
        <div class="d-flex justify-content-md-end align-items-center">
          <span class="spinner-border me-2 fade" id="media_view_loading"></span>
          <p class="text-danger m-0 me-2 d-none" id="media_view_error">Network error.</p>
          <button
            class="btn btn-primary"
            onclick="view_media();"
          >Refresh {{ bootstrap_icon(arrow-clockwise) }}</button>
        </div>
        <div class="row row-cols-2" id="media_view_previews"></div>
      {{ tab/end() }}
      {{ tab/start(tab=upload_media) }}
        <input
          class="form-control"
          type="file"
          id="media_upload"
          accept="image/png,image/jpg"
          autocomplete="off"
          multiple
        >
        <div class="row row-cols-3" id="media_upload_previews"></div>
        <div class="row p-1 pt-2 gx-2">
          <btn class="btn btn-primary" onclick="upload_media();">Submit</btn>
        </div>
      {{ tab/end() }}
    </div>
  </div>
</div>
{{ scene/media/media_modal.html }}
